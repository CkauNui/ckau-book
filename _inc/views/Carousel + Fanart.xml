<?xml version="1.0" encoding="UTF-8"?>

<theme>
<formatVersion>7</formatVersion>
<!-- Карусель + фанарт -->
	<customView name="Carousel + Fanart" inherits="grid" displayName="${carouselFanartViewName}">
			<!-- Отключает элменеты из grid -->
		<!-- Вертикальная панель с иконками -->
		<stackpanel name="container-icons-vertical" extra="true">
			<visible>false</visible>
		</stackpanel>

		<stackpanel name="container-icons-vertical-invert" extra="true" reverse="true">
			<visible>false</visible>
		</stackpanel>

		<imagegrid name="gamegrid">
			<pos>0.0 0.22</pos>
			<size>1 1</size>
			<margin>-0.010 -0.210</margin>
			<margin if="${screen.ratio} == '21/9'">-0.007 -0.14</margin>
			<scrollDirection>horizontal</scrollDirection>
			<autoLayout>7 1</autoLayout>
			<autoLayout if="${screen.ratio} == '4/3'">5 1</autoLayout>
			<autoLayout if="${screen.ratio} == '21/9'">9 1</autoLayout>
			<autoLayoutSelectedZoom>1.20</autoLayoutSelectedZoom>
			<centerSelection>true</centerSelection>
			<scrollLoop>true</scrollLoop>
		</imagegrid>
		<gridtile name="default">
			<padding>14 16</padding>
			<reflexion>0.24 0.0</reflexion>
		</gridtile>
		<gridtile name="selected">
			<backgroundCornerSize>0</backgroundCornerSize>
			<backgroundEdgeColor>FFFFFF</backgroundEdgeColor>
			<padding>3 3</padding>
		</gridtile>
		<text name="gridtile">
			<fontSize>0.016</fontSize>
			<size>1 0</size>
		</text>
		<image name="art" extra="true">
			<origin>0.5 0.5</origin>
			<pos>0.5 0.5</pos>
			<minSize>1 1</minSize>
			<path>${themePath}/_inc/images/overlay3.png</path>
			<zIndex>20</zIndex>
		</image>
		<image name="fanart-bg-fix" extra="true">
			<visible>false</visible>
		</image>
		<image name="fanart" extra="true">
			<origin>0.5 0</origin>
			<pos>0.5 0</pos>
			<color>FFFFFF5F</color>
			<maxSize>1 1</maxSize>
			<maxSize if="${screen.ratio} == '4/3'">1.25 1.25</maxSize>
			<maxSize if="${screen.ratio} == '16/10'">1.12 1.12</maxSize>
			<path>{game:fanart}</path>
			<linearSmooth>true</linearSmooth>
			<zIndex>10</zIndex>
			<storyboard event="activate" repeat="forever">
				<animation property="scale" from="1" to="1.1" duration="8000"/>
				<animation property="scale" begin="8000" to="1" duration="8000"/>
			</storyboard>
			<storyboard event="deactivate">
				<animation property="opacity" to="0" duration="400" mode="easeOut"/>
				<animation property="scale" to="1" duration="250"/>
			</storyboard>
		</image>
		<image name="fanart_fix" extra="true">
			<visible>!exists({game:fanart})</visible>
			<path>${themePath}/_inc/anim/${system.theme}.png</path>
			<pos>0.5 -0.3</pos>
			<origin>0.5 0</origin>
			<maxSize>1 1</maxSize>
			<color>FFFFFF16</color>
			<zIndex>10</zIndex>
		</image>
		<image name="md_fanart">
			<visible>false</visible>
			<zIndex>1</zIndex>
		</image>
		<image name="logo">
			<visible>false</visible>
		</image>
		<image name="md_marquee">
			<pos>0.185 0.14</pos>
			<pos if="${screen.ratio} == '4/3'">0.185 0.13</pos>
			<maxSize>0.25 0.14</maxSize>
			<zIndex>36</zIndex>
		</image>
		<text name="md_description">
			<pos>0.065 0.267</pos>
			<size>0.34 0.16</size>
			<lineSpacing>1.1</lineSpacing>
			<fontSize>0.024</fontSize>
			<fontPath>${fontNameReg}</fontPath>
			<color>D0D0D0</color>
			<glowColor>00000035</glowColor>
			<glowSize>1</glowSize>
			<glowOffset>3 2</glowOffset>
			<zIndex>65</zIndex>
		</text>
		<video name="md_video">
			<pos>0.785 0.403</pos>
			<maxSize>0.35</maxSize>
			<origin>0.5 1</origin>
			<delay>1.0</delay>
			<showSnapshotNoVideo>false</showSnapshotNoVideo>
			<showSnapshotDelay>true</showSnapshotDelay>
			<snapshotSource>image</snapshotSource>
			<linearSmooth>true</linearSmooth>
			<effect>none</effect>
			<zIndex>12</zIndex>
			<scaleOrigin>1</scaleOrigin>
			<storyboard event="activateNext">
				<animation property="opacity" from="0" to="0" begin="0" duration="1" mode="linear"/>
				<animation property="opacity" from="0" to="1" begin="600" duration="300" mode="linear"/>
			</storyboard>
			<storyboard event="activatePrev">
				<animation property="opacity" from="0" to="0" begin="0" duration="1" mode="linear"/>
				<animation property="opacity" from="0" to="1" begin="600" duration="300" mode="linear"/>
			</storyboard>
			<shader>
				<path>:/shaders/border.glsl</path>
				<cornerRadius>0.01</cornerRadius>
				<innerShadowSize>0.01</innerShadowSize>
				<innerShadowColor>00000030</innerShadowColor>
				<outerShadowSize>0.020</outerShadowSize>
				<outerShadowColor>00000050</outerShadowColor>
			</shader>
		</video>

	<!-- Панель с иконками игроков, ачивок, руля и т.д.-->
		<stackpanel name="container-icons" extra="true">
			<separator>0.015</separator>
			<pos>0.065 0.23</pos>
			<size>0.47 0.032</size>
			<pos if="${screen.ratio} == '4/3'">0.065 0.21</pos>
			<size if="${screen.ratio} == '4/3'">0.47 0.05</size>
			<orientation>horizontal</orientation>
			<backgroundColor>FF000000</backgroundColor>
			<zIndex>150</zIndex>
			
			<!-- Год выпуска -->
			<text>
				<fontSize>0.026</fontSize>
				<fontSize if="${screen.ratio} == '4/3'">0.031</fontSize>
				<fontPath>${fontNameReg}</fontPath>
				<text>{game:releaseyear}</text>
				<color>4CDF6C</color>
				<padding>4 0 4 0</padding>
				<multiLine>false</multiLine>
				<autoScrollDelay>3000</autoScrollDelay>
				<singleLineScroll>true</singleLineScroll>
				<visible>!empty({game:releaseyear})</visible>
			</text>
			
			<text name="icons-players">
				<fontPath>${fontPlayers}</fontPath>
				<text>{game:playerCount}</text>
				<alignment>center</alignment>
				<fontSize>0.03</fontSize>
				<fontSize if="${screen.ratio} == '4/3'">0.036</fontSize>
				<color>D0D0D0D0</color>
			</text>
			
			<!-- Флаги / Flags -->
			<image name="flag-region">
				<path>${themePath}/_inc/images/flags/{game:region}.png</path>
				<maxSize>0.8</maxSize>
				<origin>0.5 0.5</origin>
				<pos>0.5 0.4</pos>
				<linearSmooth>true</linearSmooth>
				<opacity>0.8</opacity>
				<visible>{game:region} != {game:lang} &amp;&amp; !contains(lower({game:region}), ',') &amp;&amp; !empty({game:region})</visible>
			</image>
			<image name="flag-force-world">
				<path>${themePath}/_inc/images/flags/wr.png</path>
				<maxSize>0.8</maxSize>
				<origin>0.5 0.5</origin>
				<pos>0.5 0.4</pos>
				<linearSmooth>true</linearSmooth>
				<opacity>0.8</opacity>
				<visible>contains(lower({game:region}), ',') &amp;&amp; !empty({game:region})</visible>
			</image>
			<image name="flag-lang">
				<path>${themePath}/_inc/images/flags/{game:lang}.png</path>
				<maxSize>0.8</maxSize>
				<origin>0.5 0.5</origin>
				<pos>0.5 0.4</pos>
				<linearSmooth>true</linearSmooth>
				<opacity>0.8</opacity>
				<visible>!contains(lower({game:lang}), ',') &amp;&amp; !empty({game:lang})</visible>
			</image>
			<text name="gamedata-lang">
				<fontSize>0.019</fontSize>
				<fontPath>${fontNameReg}</fontPath>
				<text>{game:lang}.upper()</text>
				<color>FFFFFF</color>
				<padding>4 0 4 0</padding>
				<singleLineScroll>true</singleLineScroll>
				<autoScrollDelay>0</autoScrollDelay>
				<y>0.02</y>
				<visible>contains(lower({game:lang}), ',') &amp;&amp; !empty({game:lang})</visible>
			</text>
			
			<image name="icons-manual">
				<visible>{game:hasManual}</visible>
				<path>${themePath}/_inc/images/book.png</path>
				<linearSmooth>true</linearSmooth>
				<color>D0D0D0D0</color>
				<padding>0 0</padding>
				<maxSize>1 1</maxSize>
			</image>
			
			<image name="icons-cheevos">
				<visible>{game:cheevos}</visible>
				<path>${themePath}/_inc/icons/Contest.png</path>
				<linearSmooth>true</linearSmooth>
				<color>D0D0D0D0</color>
				<padding>0 0</padding>
				<maxSize>1 1</maxSize>
			</image>
			<image name="icons-save">
				<visible>{game:hasSaveState}</visible>
				<path>${themePath}/_inc/icons/SaveState.png</path>
				<linearSmooth>true</linearSmooth>
				<color>D0D0D0D0</color>
				<padding>0 0</padding>
				<maxSize>1 1</maxSize>
			</image>
			
			<image name="icons-wheel">
				<visible>{game:wheelGame}</visible>
				<linearSmooth>true</linearSmooth>
				<padding>0 0</padding>
				<path>${themePath}/_inc/images/wheel.svg</path>
				<maxSize>1 1</maxSize>
				<color>D0D0D0D0</color>
			</image>
			
			<image name="icons-gun">
				<visible>{game:gunGame}</visible>
				<linearSmooth>true</linearSmooth>
				<padding>0 0</padding>
				<path>${themePath}/_inc/images/gun.svg</path>
				<maxSize>1 1</maxSize>
				<color>D0D0D0D0</color>
			</image>
			
			<image name="icons-padtokey">
				<visible>{game:hasKeyboardMapping}</visible>
				<linearSmooth>true</linearSmooth>
				<padding>0 0</padding>
				<path>${themePath}/_inc/images/padtokey.png</path>
				<maxSize>1 1</maxSize>
				<color>D0D0D0D0</color>
			</image>
			
			<image name="icons-hidden">
				<visible>{game:hidden}</visible>
				<linearSmooth>true</linearSmooth>
				<padding>0 0</padding>
				<path>${themePath}/_inc/images/hidden.svg</path>
				<maxSize>1 1</maxSize>
				<color>D0D0D0D0</color>
			</image>
			<image name="icons-kid">
				<visible>{game:kidGame}</visible>
				<linearSmooth>true</linearSmooth>
				<padding>0 0</padding>
				<path>${themePath}/_inc/images/kid.svg</path>
				<maxSize>1 1</maxSize>
				<color>D0D0D0D0</color>
			</image>
		</stackpanel>

		<!-- Панель с рейтингом и разработчиком -->
		<stackpanel name="game-data" extra="true">
			<separator>0.015</separator>
			<pos>0.065 0.43</pos>
			<size>0.47 0.032</size>
			<size if="${screen.ratio} == '4/3'">0.47 0.04</size>
			<orientation>horizontal</orientation>
			<backgroundColor>FF000000</backgroundColor>
			<zIndex>150</zIndex>
			
			<!-- Рейтинг -->
			<text name="gamedata-stars">
				<fontSize>0.028</fontSize>
				<text>{game:stars}</text>
				<color>D0D0D0D0</color>
				<visible>!empty({game:stars})</visible>
			</text>
			
			<!-- Разработчик -->
			<text>
				<pos>0.08 0</pos> <!-- Сдвигает текст правее иконки -->
				<fontSize>0.022</fontSize>
				<fontSize if="${screen.ratio} == '4/3'">0.027</fontSize>
				<fontPath>${fontNameReg}</fontPath>
				<text>{game:developer}</text>
				<color>D0D0D0D0</color>
				<padding>4 0 4 0</padding>
				<multiLine>false</multiLine>
				<autoScrollDelay>3000</autoScrollDelay>
				<singleLineScroll>true</singleLineScroll>
				<visible>!empty({game:developer})</visible>
			</text>
		</stackpanel>
	</customView>
</theme>