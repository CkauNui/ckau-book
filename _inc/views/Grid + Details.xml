<?xml version="1.0" encoding="UTF-8"?>

<theme>
<formatVersion>7</formatVersion>
<!-- Сетка + подробно -->
	<customView name="Grid + Details" inherits="grid" displayName="${gridDetailsViewName}">
		<imagegrid name="gamegrid">
			<pos>0 0.16</pos>
			<size>0.66 0.79</size>
			<autoLayout>5 2</autoLayout>
			<autoLayout if="${screen.ratio} == '4/3'">3 2</autoLayout>
			<autoLayout if="${screen.ratio} == '21/9'">7 2</autoLayout>
		</imagegrid>
		<text name="gridtile">
			<visible>false</visible>
			<size>0 0</size>
		</text>
		<text name="md_name">
			<pos>0.815 0.158</pos>
			<size>0.30 0.1</size>
			<color>F0F0F0</color>
			<fontSize>0.032</fontSize>
			<pos if="${screen.ratio} == '4/3'">0.80 0.158</pos>
			<fontSize if="${screen.ratio} == '4/3'">0.034</fontSize>
			<verticalAlignment>bottom</verticalAlignment>
			<horizontalAlignment>center</horizontalAlignment>
			<glowColor>${glowColor}</glowColor>
			<glowSize>2</glowSize>
			<visible>true</visible>
		</text>

	<!-- Второй контейнер с иконками и текстом издателя, разработчика -->
	<container name="container-gamedata2" extra="true">
		<pos>0.665 0.21</pos>
		<pos if="${screen.ratio} == '4/3'">0.65 0.21</pos>
		<size>0.30 0.05</size>
		<orientation>horizontal</orientation>
		<backgroundColor>FF000000</backgroundColor>
		<zIndex>150</zIndex>
		<separator>0.01</separator>
		
		<!-- Разработчик (если не = издателю) -->
		<container name="developer-container" visible="{game:publisher} != {game:developer} &amp;&amp; !empty({game:developer})">
		<pos>0 0</pos>
			<text>
				<fontSize>0.024</fontSize>
				<fontSize if="${screen.ratio} == '4/3'">0.03</fontSize>
				<fontPath>${fontNameReg}</fontPath>
				<text>{game:developer}</text>
				<color>808080FF</color>
				<size>1 1</size>
				<alignment>center</alignment>
				<multiLine>false</multiLine>
				<autoScrollDelay>3000</autoScrollDelay>
				<singleLineScroll>true</singleLineScroll>
				<glowColor>00000035</glowColor>
				<glowSize>1</glowSize>
				<glowOffset>3 2</glowOffset>
			</text>
		</container>
		
		<!-- Если издатель == разработчик -->
		<container name="dev-pub-container" visible="{game:publisher} == {game:developer} &amp;&amp; !empty({game:developer})">
		<pos>0 0</pos>
			<text>
				<fontSize>0.024</fontSize>
				<fontPath>${fontNameReg}</fontPath>
				<text>{game:developer}</text>
				<color>808080FF</color>
				<size>1 1</size>
				<alignment>center</alignment>
				<multiLine>false</multiLine>
				<autoScrollDelay>3000</autoScrollDelay>
				<singleLineScroll>true</singleLineScroll>
				<glowColor>00000035</glowColor>
				<glowSize>1</glowSize>
				<glowOffset>3 2</glowOffset>
			</text>
		</container>
	</container>

		<video name="md_video">
			<pos>0.815 0.455</pos>
			<maxSize>0.30 0.383</maxSize>
			<pos if="${screen.ratio} == '4/3'">0.80 0.455</pos>
			<origin>0.5 0.5</origin>
			<delay>1.0</delay>
			<showSnapshotNoVideo>false</showSnapshotNoVideo>
			<showSnapshotDelay>true</showSnapshotDelay>
			<snapshotSource>image</snapshotSource>
			<effect>none</effect>
			<zIndex>110</zIndex>
			<storyboard event="activateNext">
				<animation property="opacity" from="0" to="0" begin="0" duration="1" mode="linear"/>
				<animation property="opacity" from="0" to="1" begin="0" duration="300" mode="linear"/>
			</storyboard>
			<storyboard event="activatePrev">
				<animation property="opacity" from="0" to="0" begin="0" duration="1" mode="linear"/>
				<animation property="opacity" from="0" to="1" begin="0" duration="300" mode="linear"/>
			</storyboard>
			<shader>
				<path>:/shaders/border.glsl</path>
				<cornerRadius>0.01</cornerRadius>
				<innerShadowSize>0.01</innerShadowSize>
				<innerShadowColor>00000030</innerShadowColor>
				<outerShadowSize>0.020</outerShadowSize>
				<outerShadowColor>00000050</outerShadowColor>
			</shader>
		</video>
		<text name="md_description">
			<fontPath>${fontNameReg}</fontPath>
			<pos>0.665 0.66</pos>
			<size>0.3 0.22</size>
			<fontSize>0.024</fontSize>
			<pos if="${screen.ratio} == '4/3'">0.65 0.66</pos>
			<fontSize if="${screen.ratio} == '4/3'">0.03</fontSize>
			<color>A0A0B0</color>
			<lineSpacing>1.1</lineSpacing>
		</text>
		
		<!-- Панель с рейтингом, годом и т.д. -->
		<stackpanel name="container-stars" extra="true">
			<separator>0.01</separator>
			<pos>0.665 0.89</pos>
			<size>0.298 0.032</size>
			<pos if="${screen.ratio} == '4/3'">0.65 0.89</pos>
			<size if="${screen.ratio} == '4/3'">0.298 0.042</size>
			<orientation>horizontal</orientation>
			<backgroundColor>FF000000</backgroundColor>
			<zIndex>150</zIndex>
			
			<!-- Год выпуска -->
			<image>
				<path>${themePath}/_inc/images/game_info_releasedate.svg</path>
				<linearSmooth>true</linearSmooth>
				<color>666666</color>
				<padding>0 0</padding>
				<maxSize>1 1</maxSize>
				<visible>!empty({game:releaseyear})</visible>
			</image>
			<text>
				<pos>0.08 0</pos> <!-- Сдвигает текст правее иконки -->
				<fontSize>0.022</fontSize>
				<fontPath>${fontNameReg}</fontPath>
				<text>{game:releaseyear}</text>
				<color>666666</color>
				<padding>4 0 4 0</padding>
				<multiLine>false</multiLine>
				<autoScrollDelay>3000</autoScrollDelay>
				<singleLineScroll>true</singleLineScroll>
				<visible>!empty({game:releaseyear})</visible>
				<!-- 4:3 -->
				<pos if="${screen.ratio} == '4/3'">0.1 0</pos>
				<fontSize if="${screen.ratio} == '4/3'">0.027</fontSize>
			</text>
			
			<!-- Рейтинг -->
			<text name="gamedata-stars">
				<fontSize>0.028</fontSize>
				<text>{game:stars}</text>
				<color>666666</color>
				<padding>4 0 8 0</padding>
				<visible>!empty({game:stars})</visible>
				<visible if="${screen.ratio} == '4/3'">false</visible>
			</text>
			
			<!-- Жанр -->
			<image>
				<path>${themePath}/_inc/images/game_info_genre.svg</path>
				<linearSmooth>true</linearSmooth>
				<color>666666</color>
				<padding>0 0</padding>
				<maxSize>1 1</maxSize><pos>0.48 0</pos>
				<visible>!empty({game:genre})</visible>
			</image>
			<text>
				<pos>0.08 0</pos> <!-- Сдвигает текст правее иконки -->
				<fontSize>0.022</fontSize>
				<fontPath>${fontNameReg}</fontPath>
				<text>{game:genre}</text>
				<color>666666</color>
				<padding>4 0 4 0</padding>
				<multiLine>false</multiLine>
				<autoScrollDelay>3000</autoScrollDelay>
				<singleLineScroll>true</singleLineScroll>
				<visible>!empty({game:genre})</visible>
				<!-- 4:3 -->
				<pos if="${screen.ratio} == '4/3'">0.1 0</pos>
				<fontSize if="${screen.ratio} == '4/3'">0.027</fontSize>
			</text>
		</stackpanel>
	</customView>
</theme>